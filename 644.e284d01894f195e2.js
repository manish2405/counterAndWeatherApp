"use strict";(self.webpackChunkangular_task=self.webpackChunkangular_task||[]).push([[644],{644:(y,u,a)=>{a.r(u),a.d(u,{WeatherModule:()=>Z});var h=a(895),d=a(773),t=a(256),m=a(529);let g=(()=>{class n{constructor(e){this.http=e,this.apiKey="d4594364698122bfd1c4b3eb5f2ff19f",this.currentWeatherUrl="https://api.openweathermap.org/data/2.5/weather",this.forecastUrl="https://api.openweathermap.org/data/2.5/onecall"}getCurrentWeather(e){return this.http.get(this.currentWeatherUrl,{params:{q:e,appid:this.apiKey}})}getWeatherForecast(e,r){const o={lat:e.toString(),lon:r.toString(),appid:this.apiKey,exclude:"current,minutely,hourly"};return this.http.get(this.forecastUrl,{params:o})}static#t=this.\u0275fac=function(r){return new(r||n)(t.LFG(m.eN))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var l=a(433);function f(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"span",8),t._uU(2),t.qZA(),t.TgZ(3,"button",4),t.NdJ("click",function(){const c=t.CHM(e).$implicit,i=t.oxw();return t.KtG(i.refreshWeather(c))}),t._uU(4,"Refresh"),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){const c=t.CHM(e).index,i=t.oxw();return t.KtG(i.removeCity(c))}),t._uU(6,"X"),t.qZA()()}if(2&n){const e=s.$implicit;t.xp6(2),t.Oqu(e.city)}}function _(n,s){if(1&n&&(t.TgZ(0,"div")(1,"p"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"p"),t._uU(5),t.qZA()()),2&n){const e=s.$implicit;t.xp6(2),t.Oqu(t.xi3(3,2,e.date,"d E")),t.xp6(3),t.Oqu(e.temperature)}}function C(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.qZA(),t.TgZ(9,"p"),t._uU(10),t.qZA(),t.TgZ(11,"button",4),t.NdJ("click",function(){const c=t.CHM(e).$implicit,i=t.oxw();return t.KtG(i.refreshWeather(c))}),t._uU(12,"Refresh Forecast"),t.qZA(),t.TgZ(13,"div",9),t.YNc(14,_,6,5,"div",7),t.qZA()()}if(2&n){const e=s.$implicit;t.xp6(2),t.Oqu(e.city),t.xp6(2),t.Oqu(e.temperature),t.xp6(2),t.Oqu(e.weatherStatus),t.xp6(2),t.hij("Wind: ",e.wind,""),t.xp6(2),t.hij("Pressure: ",e.pressure,""),t.xp6(4),t.Q6J("ngForOf",e.forecast)}}const x=[{path:"",component:(()=>{class n{constructor(e){this.weatherService=e,this.city="",this.recentLocations=[]}removeCity(e){this.recentLocations.splice(e,1)}clearAll(){this.recentLocations=[]}trimLocations(){this.recentLocations.length>8&&this.recentLocations.pop()}refreshForecast(){}addCity(){this.weatherService.getCurrentWeather(this.city).subscribe(e=>{let r={city:e.name,temperature:`${e.main.temp}\xb0C`,weatherStatus:e.weather[0].description,wind:`${e.wind.speed} m/s`,pressure:`${e.main.pressure} hPa`};this.recentLocations.unshift(r),this.trimLocations(),this.city="",this.weatherService.getWeatherForecast(e.coord.lat,e.coord.lon).subscribe(i=>{const v=i.daily.slice(1,6);r.forecast=v.map(p=>({date:new Date(1e3*p.dt),temperature:`${p.temp.day}\xb0C`,weatherStatus:p.weather[0].description,wind:`${p.wind_speed} m/s`,pressure:`${p.pressure} hPa`}))},i=>{console.error("Error fetching weather forecast:",i)})},e=>{console.error("Error fetching current weather data:",e)})}refreshWeather(e){this.weatherService.getCurrentWeather(e.city).subscribe(r=>{e.temperature=`${r.main.temp}\xb0C`,e.weatherStatus=r.weather[0].description},r=>{console.error("Error refreshing weather data:",r)})}static#t=this.\u0275fac=function(r){return new(r||n)(t.Y36(g))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-weather"]],decls:14,vars:3,consts:[[1,"weather-app"],[1,"left-panel"],[1,"location-search"],["placeholder","Enter City",3,"ngModel","ngModelChange"],[3,"click"],["class","location-search",4,"ngFor","ngForOf"],[1,"right-panel"],[4,"ngFor","ngForOf"],[1,"location"],[2,"display","flex","justify-content","space-between"]],template:function(r,o){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),t.NdJ("ngModelChange",function(i){return o.city=i}),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){return o.addCity()}),t._uU(5,"+"),t.qZA()(),t.TgZ(6,"p"),t._uU(7,"Recent locations "),t.qZA(),t._UZ(8,"hr"),t.YNc(9,f,7,1,"div",5),t.TgZ(10,"button",4),t.NdJ("click",function(){return o.clearAll()}),t._uU(11,"Clear All"),t.qZA()(),t.TgZ(12,"div",6),t.YNc(13,C,15,6,"div",7),t.qZA()()),2&r&&(t.xp6(3),t.Q6J("ngModel",o.city),t.xp6(6),t.Q6J("ngForOf",o.recentLocations),t.xp6(4),t.Q6J("ngForOf",o.recentLocations))},dependencies:[h.sg,l.Fj,l.JJ,l.On,h.uU],styles:[".weather-app[_ngcontent-%COMP%]{display:flex}.left-panel[_ngcontent-%COMP%]{margin:20px;width:30%;padding:20px;border:2px solid #ccc}.right-panel[_ngcontent-%COMP%]{width:60%;margin:20px;padding:20px;border:2px solid #ccc}.location-search[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px}.location-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90%;border:none;box-shadow:13px 13px 0 -10px #ccc,-13px 13px 0 -10px #ccc;outline:none;font-size:20px;background:none}.location-search[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{width:80%}"]})}return n})()}];let w=(()=>{class n{static#t=this.\u0275fac=function(r){return new(r||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(x),d.Bz]})}return n})(),Z=(()=>{class n{static#t=this.\u0275fac=function(r){return new(r||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({providers:[g],imports:[h.ez,w]})}return n})()}}]);